<?php

namespace Startwind\WebInsights\Aggregation\Retriever;

use GuzzleHttp\Psr7\Uri;
use Startwind\WebInsights\Classification\ClassificationResult;

class DebugRetriever implements Retriever
{
    private array $results;

    public function __construct(array $options = [])
    {
        $this->results = [
            'https://www.plesk.com' => 'analytics:hotjar, browser:feature:apple-touch-icon, characteristic:html:css:count:50, characteristic:html:javascript:count:50, characteristic:html:size_mb:1, characteristic:http:transfer_time_ms:5000, cms:system:wordpress, control_panel:system:plesk, hosting:location:as:as13335_cloudflare_inc, hosting:location:country:ca, hosting:location:isp:cloudflare_inc, html:content:link:social-media:facebook, html:content:link:social-media:linkedin, html:content:link:social-media:twitter, html:content:link:social-media:youtube, html:content:share:open-graph, html:content:share:twitter, html:framework:jquery, html:meta:robots:follow, html:meta:robots:index, html:meta:robots:max-image-preview:large, html:meta:robots:max-snippet:-1, html:meta:robots:max-video-preview:-1, html:plugin:chat:livechat, html:plugin:font-awesome, ip:104_18_40_121, keyword:agency, keyword:cloud, keyword:dedicated_server, keyword:hosting, keyword:joomla, keyword:plesk, keyword:webpros, keyword:wordpress, keyword:wp_toolkit, keyword:xovi, service:email:outlook, tech:cdn:cloudflare, tech:language:php, tech:ssl:issuer:sectigo_limited, tech:webserver:litespeed, tld:com, wordpress:plugin:dynamicconditions, wordpress:plugin:elementor, wordpress:plugin:elementor-pro, wordpress:plugin:jet-blog, wordpress:plugin:jet-elements, wordpress:plugin:jet-menu, wordpress:plugin:jet-popup, wordpress:plugin:jet-tabs, wordpress:plugin:plesk-integrator, wordpress:plugin:powerpack-lite-for-elementor, wordpress:plugin:rate-my-post, wordpress:plugin:raven, wordpress:plugin:social-warfare, wordpress:plugin:wp-one-time-file-download, wordpress:plugin:wp-user-avatar, wordpress:plugin:wp_glossary, wordpress:plugin:yoast, wordpress:theme:blocksy, wordpress:theme:plesk-be',
            'https://www.wordpress.org' => 'browser:feature:apple-touch-icon, browser:feature:iframe, characteristic:html:css:count:0, characteristic:html:javascript:count:10, characteristic:html:size_mb:1, characteristic:http:transfer_time_ms:100, cms:system:wordpress, hosting:location:as:as32475_singlehop_llc, hosting:location:country:us, hosting:location:isp:singlehop_llc, html:content:language:af-za, html:content:language:am-et, html:content:language:an-es, html:content:language:ar, html:content:language:as-in, html:content:language:az-az, html:content:language:az-tr, html:content:language:be-by, html:content:language:bg-bg, html:content:language:bn-bd, html:content:language:bn-in, html:content:language:bo, html:content:language:br-fr, html:content:language:bs-ba, html:content:language:ca, html:content:language:ceb, html:content:language:co-it, html:content:language:cs-cz, html:content:language:cy-gb, html:content:language:da-dk, html:content:language:de-at, html:content:language:de-ch, html:content:language:de-de, html:content:language:dv-mv, html:content:language:dz-bt, html:content:language:ee-gh, html:content:language:el-gr, html:content:language:en, html:content:language:en-au, html:content:language:en-ca, html:content:language:en-gb, html:content:language:en-nz, html:content:language:en-za, html:content:language:eo, html:content:language:es-ar, html:content:language:es-cl, html:content:language:es-co, html:content:language:es-cr, html:content:language:es-do, html:content:language:es-ec, html:content:language:es-es, html:content:language:es-gt, html:content:language:es-hn, html:content:language:es-mx, html:content:language:es-pe, html:content:language:es-pr, html:content:language:es-uy, html:content:language:es-ve, html:content:language:et-ee, html:content:language:eu-es, html:content:language:fa, html:content:language:fa-af, html:content:language:fi-fi, html:content:language:fo-fo, html:content:language:fr-be, html:content:language:fr-ca, html:content:language:fr-fr, html:content:language:fy-nl, html:content:language:ga-ie, html:content:language:gd-gb, html:content:language:gl-es, html:content:language:gu, html:content:language:ha-ng, html:content:language:he-il, html:content:language:hi-in, html:content:language:hr-hr, html:content:language:ht-ht, html:content:language:hu-hu, html:content:language:hy-am, html:content:language:id-id, html:content:language:ig-ng, html:content:language:is-is, html:content:language:it-it, html:content:language:ja-jp, html:content:language:jv-id, html:content:language:ka-ge, html:content:language:kk-kz, html:content:language:kl-gl, html:content:language:km-kh, html:content:language:kn-in, html:content:language:ko-kr, html:content:language:ku-iq, html:content:language:ku-tr, html:content:language:kw-gb, html:content:language:ky-kg, html:content:language:lb-lu, html:content:language:lg-ug, html:content:language:ln-cd, html:content:language:lo-la, html:content:language:lt-lt, html:content:language:lv-lv, html:content:language:mg-mg, html:content:language:mi-nz, html:content:language:mk-mk, html:content:language:ml-in, html:content:language:mn-mn, html:content:language:mr, html:content:language:ms, html:content:language:mt-mt, html:content:language:my-mm, html:content:language:nb-no, html:content:language:ne-np, html:content:language:nl-be, html:content:language:nl-nl, html:content:language:nn-no, html:content:language:oc-fr, html:content:language:or-in, html:content:language:os, html:content:language:pa-in, html:content:language:pl-pl, html:content:language:ps-af, html:content:language:pt-ao, html:content:language:pt-br, html:content:language:pt-pt, html:content:language:rm-ch, html:content:language:ro-ro, html:content:language:ru-ru, html:content:language:rw-rw, html:content:language:sa-in, html:content:language:sd-pk, html:content:language:si-lk, html:content:language:sk-sk, html:content:language:sl-si, html:content:language:sn-zw, html:content:language:so-so, html:content:language:sq-al, html:content:language:sq-xk, html:content:language:sr-rs, html:content:language:ss-sz, html:content:language:su-id, html:content:language:sv-se, html:content:language:sw, html:content:language:ta-in, html:content:language:ta-lk, html:content:language:te, html:content:language:tg-tj, html:content:language:th, html:content:language:ti-er, html:content:language:tk-tm, html:content:language:tl-ph, html:content:language:tr-tr, html:content:language:tt-ru, html:content:language:ug-cn, html:content:language:uk-ua, html:content:language:ur-pk, html:content:language:uz-uz, html:content:language:vi-vn, html:content:language:wo-sn, html:content:language:xh-za, html:content:language:yo-ng, html:content:language:zh-cn, html:content:language:zh-hk, html:content:language:zh-sg, html:content:language:zh-tw, html:content:language:zu-za, html:content:link:social-media:facebook, html:content:link:social-media:instagram, html:content:link:social-media:linkedin, html:content:link:social-media:youtube, html:content:share:open-graph, html:meta:robots:max-image-preview:large, html:meta:schema-org, html:plugin:google:fonts, html:plugin:google:tag-manager, ip:198_143_164_252, keyword:hosting, keyword:wordpress, service:email:self-hosted, tech:language:php, tech:webserver:nginx, tld:org, wordpress:plugin:gutenberg, wordpress:plugin:jetpack, wordpress:theme:wporg-main-2022, wordpress:theme:wporg-parent-2021',
            'https://www.exmaple.com' => 'browser:feature:apple-touch-icon, type:ecommerce',
            'https://www.tartex.de' => 'browser:feature:apple-touch-icon, browser:feature:iframe, characteristic:html:css:count:0, characteristic:html:javascript:count:10, characteristic:html:size_mb:1, characteristic:http:transfer_time_ms:2000, cms:system:wordpress, control_panel:system:plesk, hosting:location:as:as8560_ionos_se, hosting:location:country:de, hosting:location:isp:ionos_se, html:content:link:social-media:facebook, html:content:link:social-media:instagram, html:content:share:open-graph, html:meta:robots:follow, html:meta:robots:index, html:meta:robots:max-image-preview:large, html:meta:robots:max-snippet:-1, html:meta:robots:max-video-preview:-1, html:meta:schema-org, html:plugin:google:tag-manager, html:plugin:tracking:facebook, ip:82_165_178_78, keyword:wordpress, service:email:outlook, tech:language:php, tech:webserver:nginx, tld:de, wordpress:plugin:yoast, wordpress:theme:tartex-theme',
            'https://www.cpanel.net' => 'browser:feature:apple-touch-icon, characteristic:html:css:count:10, characteristic:html:javascript:count:10, characteristic:html:size_mb:1, characteristic:http:transfer_time_ms:5000, cms:system:wordpress, hosting:location:as:as13335_cloudflare_inc, hosting:location:country:us, hosting:location:isp:cloudflare_inc, html:content:share:twitter, html:meta:schema-org, html:plugin:bugherd, html:plugin:cookie:cookie-bot, html:plugin:font-awesome, html:plugin:google:fonts, html:plugin:google:tag-manager, ip:208_74_123_84, keyword:cloud, keyword:cpanel, keyword:hosting, keyword:webpros, keyword:wordpress, keyword:wp_toolkit, keyword:xovi, service:email:outlook, tech:cdn:cloudflare, tech:language:php, tech:ssl:issuer:sectigo_limited, tld:net, wordpress:theme:cpbase',
            'https://www.plesk2.com' => 'analytics:hotjar, browser:feature:apple-touch-icon, characteristic:html:css:count:50, characteristic:html:javascript:count:50, characteristic:html:size_mb:1, characteristic:http:transfer_time_ms:500, cms:system:wordpress, control_panel:system:plesk, hosting:location:as:as13335_cloudflare_inc, hosting:location:country:ca, hosting:location:isp:cloudflare_inc, html:content:link:social-media:facebook, html:content:link:social-media:linkedin, html:content:link:social-media:twitter, html:content:link:social-media:youtube, html:content:share:open-graph, html:content:share:twitter, html:framework:jquery, html:meta:robots:follow, html:meta:robots:index, html:meta:robots:max-image-preview:large, html:meta:robots:max-snippet:-1, html:meta:robots:max-video-preview:-1, html:plugin:chat:livechat, html:plugin:font-awesome, ip:104_18_40_121, keyword:agency, keyword:cloud, keyword:dedicated_server, keyword:hosting, keyword:joomla, keyword:plesk, keyword:webpros, keyword:wordpress, keyword:wp_toolkit, keyword:xovi, service:email:outlook, tech:cdn:cloudflare, tech:language:php, tech:ssl:issuer:sectigo_limited, tech:webserver:litespeed, tld:com, wordpress:plugin:dynamicconditions, wordpress:plugin:elementor, wordpress:plugin:elementor-pro, wordpress:plugin:jet-blog, wordpress:plugin:jet-elements, wordpress:plugin:jet-menu, wordpress:plugin:jet-popup, wordpress:plugin:jet-tabs, wordpress:plugin:plesk-integrator, wordpress:plugin:powerpack-lite-for-elementor, wordpress:plugin:rate-my-post, wordpress:plugin:raven, wordpress:plugin:social-warfare, wordpress:plugin:wp-one-time-file-download, wordpress:plugin:wp-user-avatar, wordpress:plugin:wp_glossary, wordpress:plugin:yoast, wordpress:theme:blocksy, wordpress:theme:plesk-be',
        ];
    }

    public function next(): ClassificationResult|false
    {
        $key = array_key_first($this->results);
        $rawResult = array_shift($this->results);

        if ($rawResult) {
            $result = new ClassificationResult(new Uri($key));
            $result->addTags(explode(', ', $rawResult));
            return $result;
        } else {
            return false;
        }
    }
}
